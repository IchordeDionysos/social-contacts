<dom-module id="book-lend">
	<template>
		<style>
			:host {
				display: block;
				margin: 8px;
			}
		</style>
		<paper-item>Verleihen an:</paper-item>
		<paper-input value="{{name}}" label="Name"></paper-input>
		<paper-item>Bis:</paper-item>
		<paper-date-picker style="display: block; margin-bottom: 8px;" 
						   date="{{date}}" min-date="[[minDate]]">
		</paper-date-picker>
		<paper-button on-tap="lent" raised>Verleihen</paper-button>
		<paper-button on-tap="abort" raised>Abbrechen</paper-button>
	</template>
	<script>
		Polymer({
			is: 'book-lend',

			properties: {
				date: Date,
				minDate: {
					type: Date,
					readOnly: true,
					value: function () {
						var date = new Date();
						date.setDate(date.getDate()-1);
						return date;
					}
				}
			},

			lent: function() {
				this.fire('book-lent', {
					name: this.name,
					till: this.date
				});
			},

			abort: function() {
				this.fire('lent-abort');
			}
		});
	</script>
</dom-module>